"use strict";(self.webpackChunkcomplianz_gdpr=self.webpackChunkcomplianz_gdpr||[]).push([[9187],{89187:function(t,e,a){a.r(e);var s=a(69307),l=a(65736),i=a(48399),n=a(23361);class d extends s.Component{constructor(){super(...arguments),this.state={data:[],buttonsDisabled:!1}}dismissModal(t){this.props.handleModal(!1,null,t)}componentDidMount(){this.setState({data:this.props.data,buttonsDisabled:!1})}handleFix(t){let e=this.props.data.action;this.setState({buttonsDisabled:!0}),i.doAction(e,"refresh",this.props.data).then((t=>{this.props.data;let{data:e}=this.state;e.description=t.msg,e.subtitle="",this.setState({data:e}),this.props.data,t.success&&this.dismissModal(this.props.data)}))}render(){const{data:t,buttonsDisabled:e}=this.state;let a=e?"disabled":"",i=t.description;return(0,s.createElement)("div",null,(0,s.createElement)("div",{className:"cmplz-modal-backdrop",onClick:t=>this.dismissModal(t)},"Â "),(0,s.createElement)("div",{className:"cmplz-modal",id:"{id}"},(0,s.createElement)("div",{className:"cmplz-modal-header"},(0,s.createElement)("h2",{className:"modal-title"},t.title),(0,s.createElement)("button",{type:"button",className:"cmplz-modal-close","data-dismiss":"modal","aria-label":"Close",onClick:t=>this.dismissModal(t)},(0,s.createElement)(n.default,{name:"times"}))),(0,s.createElement)("div",{className:"cmplz-modal-content"},t.subtitle&&(0,s.createElement)("div",{className:"cmplz-modal-subtitle"},t.subtitle),Array.isArray(i)&&i.map(((t,e)=>(0,s.createElement)("div",{key:e,className:"cmplz-modal-description"},t)))),(0,s.createElement)("div",{className:"cmplz-modal-footer"},t.edit&&(0,s.createElement)("a",{href:t.edit,target:"_blank",className:"button button-secondary"},(0,l.__)("Edit","complianz-gdpr")),t.help&&(0,s.createElement)("a",{href:t.help,target:"_blank",className:"button cmplz-button-help"},(0,l.__)("Help","complianz-gdpr")),!t.ignored&&"ignore_url"===t.action&&(0,s.createElement)("button",{disabled:a,className:"button button-primary",onClick:t=>this.handleFix(t)},(0,l.__)("Ignore","complianz-gdpr")),"ignore_url"!==t.action&&(0,s.createElement)("button",{disabled:a,className:"button button-primary",onClick:t=>this.handleFix(t)},(0,l.__)("Fix","complianz-gdpr")))))}}e.default=d}}]);