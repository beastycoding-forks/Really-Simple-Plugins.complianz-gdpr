"use strict";(self.webpackChunkcomplianz_gdpr=self.webpackChunkcomplianz_gdpr||[]).push([[3539,3909,4064],{83539:function(e,t,a){a.r(t);var l=a(69307),s=a(65736),c=a(53909),n=a(14531),r=a(82387),i=a(56293);t.default=()=>{const{percentageCompleted:e,filter:t,notices:a,progressLoaded:o,fetchProgressData:m,error:d}=(0,r.default)(),{fetchAllFieldsCompleted:p,allRequiredFieldsCompleted:u,fields:_}=(0,i.default)();(0,l.useEffect)((()=>{(async()=>{o||await m(),p()})()}),[t,_]);let g="";if(e<80&&(g+="cmplz-orange"),!o||d)return(0,l.createElement)(n.default,{lines:"9",error:d});let h=a;if("remaining"===t&&(h=h.filter((function(e){return"completed"!==e.status}))),!u&&0===h.filter((e=>"all_fields_completed"===e.id)).length){let e={id:"all_fields_completed",status:"urgent",message:(0,s.__)('Not all fields have been entered, or you have not clicked the "finish" button yet.',"complianz-gdpr")};h.push(e)}u&&(h=h.filter((e=>"all_fields_completed"!==e.id))),h.sort((function(e,t){return e.status===t.status?0:e.status<t.status?1:-1}));let f=h.filter((e=>"open"===e.status||"urgent"===e.status));return(0,l.createElement)("div",{className:"cmplz-progress-block"},(0,l.createElement)("div",{className:"cmplz-progress-bar"},(0,l.createElement)("div",{className:"cmplz-progress"},(0,l.createElement)("div",{className:"cmplz-bar "+g,style:Object.assign({},{width:e+"%"})}))),(0,l.createElement)("div",{className:"cmplz-progress-text"},(0,l.createElement)("h1",{className:"cmplz-progress-percentage"},e,"%"),(0,l.createElement)("h5",{className:"cmplz-progress-text-span"},e<100&&(0,s.__)("Consent Management is activated on your site.","complianz-gdpr")+" ",e<100&&1===f.length&&(0,s.__)("You still have 1 task open.","complianz-gdpr"),e<100&&f.length>1&&(0,s.__)("You still have %s tasks open.","complianz-gdpr").replace("%s",f.length),100===e&&(0,s.__)("Well done! Your website is ready for your selected regions.","complianz-gdpr"))),(0,l.createElement)("div",{className:"cmplz-scroll-container"},h.map(((e,t)=>(0,l.createElement)(c.default,{key:t,index:t,notice:e})))))}},53909:function(e,t,a){a.r(t);var l=a(69307),s=a(65736),c=a(23361),n=a(9818),r=a(48399),i=a(14064),o=a(56293),m=a(82387),d=a(82485);t.default=e=>{let{notice:t,index:a}=e;const{dismissNotice:p,fetchProgressData:u}=(0,m.default)(),{getField:_,setHighLightField:g,fetchFieldsData:h}=(0,o.default)(),{setSelectedSubMenuItem:f}=(0,d.default)();let z="premium"===t.icon,b=t.url&&-1!==t.url.indexOf("complianz.io"),k=t.status.charAt(0).toUpperCase()+t.status.slice(1);return(0,l.createElement)("div",{key:a,className:"cmplz-task-element"},(0,l.createElement)("span",{className:"cmplz-task-status cmplz-"+t.status},k),(0,l.createElement)("p",{className:"cmplz-task-message",dangerouslySetInnerHTML:{__html:t.message}}),b&&t.url&&(0,l.createElement)("a",{target:"_blank",href:t.url},(0,s.__)("More info","complianz-gdpr")),t.clear_cache_id&&(0,l.createElement)("span",{className:"cmplz-task-enable button button-secondary",onClick:()=>(async e=>{let t={};t.cache_id=e,r.doAction("clear_cache",t).then((async e=>{(0,n.dispatch)("core/notices").createNotice("success",(0,s.__)("Re-started test","complianz-gdpr"),{__unstableHTML:!0,id:"cmplz_clear_cache",type:"snackbar",isDismissible:!0}).then((0,i.default)(3e3)).then((e=>{(0,n.dispatch)("core/notices").removeNotice("rsssl_clear_cache")})),await h(),await u()}))})(t.clear_cache_id)},(0,s.__)("Re-check","complianz-gdpr")),!z&&!b&&t.url&&(0,l.createElement)("a",{className:"cmplz-task-enable button button-secondary",href:t.url},(0,s.__)("View","complianz-gdpr")),!z&&t.highlight_field_id&&(0,l.createElement)("span",{className:"cmplz-task-enable button button-secondary",onClick:()=>(async()=>{g(t.highlight_field_id);let e=_(t.highlight_field_id);await f(e.menu_id)})()},(0,s.__)("View","complianz-gdpr")),t.plus_one&&(0,l.createElement)("span",{className:"cmplz-plusone"},"1"),t.dismissible&&"completed"!==t.status&&(0,l.createElement)("div",{className:"cmplz-task-dismiss"},(0,l.createElement)("button",{type:"button",onClick:e=>p(t.id)},(0,l.createElement)(c.default,{name:"times"}))))}},14064:function(e,t,a){a.r(t),t.default=e=>function(t){return new Promise((a=>setTimeout((()=>a(t)),e)))}}}]);