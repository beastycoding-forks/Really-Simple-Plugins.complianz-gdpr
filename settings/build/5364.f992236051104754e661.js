"use strict";(self.webpackChunkcomplianz_gdpr=self.webpackChunkcomplianz_gdpr||[]).push([[5364,5294,5671,849],{65294:function(e,t,n){n.r(t);var c=n(69307),r=n(99196);t.default=(0,r.memo)((e=>{let{value:t,onChange:n,required:s,disabled:i,id:l,name:a,placeholder:o}=e;const p=l||a,[d,u]=(0,r.useState)("");return(0,r.useEffect)((()=>{u(t||"")}),[t]),(0,r.useEffect)((()=>{if(t===d)return;const e=setTimeout((()=>{n(d)}),400);return()=>{clearTimeout(e)}}),[d]),(0,c.createElement)("div",{className:"cmplz-input-group cmplz-text-input-group"},(0,c.createElement)("input",{type:"text",id:p,name:a,value:d,onChange:e=>(e=>{u(e)})(e.target.value),required:s,disabled:i,className:"cmplz-text-input-group__input",placeholder:o}))}))},85671:function(e,t,n){n.r(t);var c=n(30270),r=n(12902),s=n(48399);const i=(0,c.Ue)(((e,t)=>({integrationsLoaded:!1,fetching:!1,services:[],plugins:[],scripts:[],placeholders:[],blockedScripts:[],setScript:(t,n)=>{e((0,r.ZP)((e=>{if("block_script"===n){let n=e.blockedScripts;if(t.urls){for(const[e,c]of Object.entries(t.urls)){if(!c||0===c.length)continue;let e=!1;for(const[t,r]of Object.entries(n))c===t&&(e=!0);e||(n[c]=c)}e.blockedScripts=n}}const c=e.scripts[n].findIndex((e=>e.id===t.id));-1!==c&&(e.scripts[n][c]=t)})))},fetchIntegrationsData:async()=>{if(t().fetching)return;e({fetching:!0});const{services:n,plugins:c,scripts:r,placeholders:s,blocked_scripts:i}=await l();let a=r;a.block_script&&a.block_script.length>0&&a.block_script.forEach(((e,t)=>{e.id=t})),a.add_script&&a.add_script.length>0&&a.add_script.forEach(((e,t)=>{e.id=t})),a.whitelist_script&&a.whitelist_script.length>0&&a.whitelist_script.forEach(((e,t)=>{e.id=t})),e((()=>({integrationsLoaded:!0,services:n,plugins:c,scripts:a,fetching:!1,placeholders:s,blockedScripts:i})))},addScript:n=>{e({fetching:!0}),e((0,r.ZP)((e=>{e.scripts[n].push({name:"general",id:e.scripts[n].length,enable:!0})})));let c=t().scripts;return s.doAction("update_scripts",{scripts:c}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},saveScript:(n,c)=>{e({fetching:!0}),e((0,r.ZP)((e=>{const t=e.scripts[c].findIndex((e=>e.id===n.id));-1!==t&&(e.scripts[c][t]=n)})));let i=t().scripts;return s.doAction("update_scripts",{scripts:i}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},deleteScript:(n,c)=>{e({fetching:!0}),e((0,r.ZP)((e=>{const t=e.scripts[c].findIndex((e=>e.id===n.id));-1!==t&&e.scripts[c].splice(t,1)})));let i=t().scripts;return s.doAction("update_scripts",{scripts:i}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},updatePluginStatus:async(t,n)=>{e({fetching:!0}),e((0,r.ZP)((e=>{const c=e.plugins.findIndex((e=>e.id===t));-1!==c&&(e.plugins[c].enabled=n)})));const c=await s.doAction("update_plugin_status",{plugin:t,enabled:n}).then((e=>e)).catch((e=>{console.error(e)}));return e({fetching:!1}),c},updatePlaceholderStatus:async(t,n,c)=>{e({fetching:!0}),c&&e((0,r.ZP)((e=>{const c=e.plugins.findIndex((e=>e.id===t));-1!==c&&(e.plugins[c].placeholder=n?"enabled":"disabled")})));const i=await s.doAction("update_placeholder_status",{id:t,enabled:n}).then((e=>e)).catch((e=>{console.error(e)}));return e({fetching:!1}),i}})));t.default=i;const l=()=>s.doAction("get_integrations_data",{}).then((e=>e)).catch((e=>{console.error(e)}))},25364:function(e,t,n){n.r(t);var c=n(69307),r=n(65736),s=n(60849),i=n(65294),l=n(23361),a=n(85671);t.default=e=>{const{setScript:t,fetching:n}=(0,a.default)(),o=e.script,p=e.type;let d=o.hasOwnProperty("urls")?Object.entries(o.urls):[""];return(0,c.createElement)("div",{className:"cmplz-details-row"},(0,c.createElement)("label",null,"block_script"===p&&(0,r.__)("URLs that should be blocked before consent.","complianz-gdpr"),"whitelist_script"===p&&(0,c.createElement)(c.Fragment,null,(0,r.__)("URLs that should be whitelisted.","complianz-gdpr"),(0,s.default)("https://complianz.io/whitelisting-inline-script/"))),d.map(((r,s)=>{let[a,p]=r;return(0,c.createElement)("div",{key:s,className:"cmplz-scriptcenter-url"},(0,c.createElement)(i.default,{disabled:n,value:p||"",onChange:n=>((n,c)=>{let r={...o},s={...r.urls};s[n]=c,r.urls=s,t(r,e.type)})(a,n),id:s+"_url",name:"url"}),0===s&&(0,c.createElement)("button",{className:"button button-default",onClick:()=>(()=>{let n={...o},c=Object.keys(n.urls).length,r={...n.urls};r[c+1]="",n.urls=r,t(n,e.type)})()}," ",(0,c.createElement)(l.default,{name:"plus",size:14})),0!==s&&(0,c.createElement)("button",{className:"button button-default",onClick:()=>(n=>{let c={...o},r={...c.urls};delete r[n],c.urls=r,t(c,e.type)})(a)}," ",(0,c.createElement)(l.default,{name:"minus",size:14})))})))}},60849:function(e,t,n){n.r(t);var c=n(69307),r=n(65736),s=n(99950);t.default=e=>(0,c.createElement)(c.Fragment,null," ",(0,c.createElement)(s.default,{url:e,target:"_blank",rel:"noopener noreferrer",text:(0,r.__)("For more information, please read this %sarticle%s.","complianz-gdpr")})," ")}}]);