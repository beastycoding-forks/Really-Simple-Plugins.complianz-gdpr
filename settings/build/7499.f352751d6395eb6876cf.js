"use strict";(self.webpackChunkcomplianz_gdpr=self.webpackChunkcomplianz_gdpr||[]).push([[7499,3252],{17499:function(e,t,a){a.r(t);var l=a(69307),s=a(23361),r=a(65736),n=a(23252);t.default=()=>{const[e,t]=(0,l.useState)(!1),[a,o]=(0,l.useState)(1),[i,c]=(0,l.useState)(0),[d,m]=(0,l.useState)(0),{consentType:g,statisticsData:b,loaded:f,fetchStatisticsData:u,labels:p,setLabels:h}=(0,n.default)();return(0,l.useEffect)((()=>{!f&&cmplz_settings.is_premium&&u()}),[]),(0,l.useEffect)((()=>{if(""===g||!f)return;if(!b||!b.hasOwnProperty(g))return;let e=[...b[g].labels],t=b[g].categories;t="optin"===g?t.filter((e=>"functional"===e||"no_warning"===e||"do_not_track"===e)):t.filter((e=>"functional"===e||"marketing"===e||"statistics"===e||"preferences"===e));let a=t.map((e=>b[g].categories.indexOf(e)));for(let t=a.length-1;t>=0;t--)e.splice(a[t],1);h(e)}),[f,g]),(0,l.useEffect)((()=>{if(""===g||!f||!b)return;let e=b[g].datasets.filter((e=>e.default));if(e.length>0){let a=e[0].data,l=a.reduce(((e,t)=>parseInt(e)+parseInt(t)),0);l=l>0?l:1,o(l),c(e[0].full_consent),m(e[0].no_consent),a=a.slice(2),t(a)}}),[f,g]),(0,l.createElement)("div",{className:"cmplz-statistics"},(0,l.createElement)("div",{className:"cmplz-statistics-select"},(0,l.createElement)("div",{className:"cmplz-statistics-select-item"},(0,l.createElement)(s.default,{name:"dial-max-light",color:"green",size:"22"}),(0,l.createElement)("h2",null,i),(0,l.createElement)("span",null,(0,r.__)("Full Consent","complianz-gdpr"))),(0,l.createElement)("div",{className:"cmplz-statistics-select-item"},(0,l.createElement)(s.default,{name:"dial-min-light",color:"red",size:"22"}),(0,l.createElement)("h2",null,d),(0,l.createElement)("span",null,(0,r.__)("No Consent","complianz-gdpr")))),(0,l.createElement)("div",{className:"cmplz-statistics-list"},p.length>0&&p.map(((t,r)=>{return(0,l.createElement)("div",{className:"cmplz-statistics-list-item",key:r},(e=>{let t="dial-med-low-light";return 1===e?t="dial-med-light":2===e?t="dial-light":3===e?t="dial-off-light":4===e&&(t="dial-min-light"),(0,l.createElement)(l.Fragment,null,(0,l.createElement)(s.default,{name:t,color:"black"}))})(r),(0,l.createElement)("p",{className:"cmplz-statistics-list-item-text"},t),(0,l.createElement)("p",{className:"cmplz-statistics-list-item-number"},e.hasOwnProperty(r)?(n=e[r],n=parseInt(n),Math.round(n/a*100)):0,"%"));var n}))))}},23252:function(e,t,a){a.r(t);var l=a(30270),s=a(48399);const r={optin:{labels:["Functional","Statistics","Marketing","Do Not Track","No Choice","No Warning"],categories:["functional","statistics","marketing","do_not_track","no_choice","no_warning"],datasets:[{data:["0","0","0","0","0","0"],backgroundColor:"rgba(46, 138, 55, 1)",borderColor:"rgba(46, 138, 55, 1)",label:"A (default)",fill:"false",borderDash:[0,0]},{data:["0","0","0","0","0","0"],backgroundColor:"rgba(244, 191, 62, 1)",borderColor:"rgba(244, 191, 62, 1)",label:"B",fill:"false",borderDash:[0,0]}],max:5},optout:{labels:["Functional","Statistics","Marketing","Do Not Track","No Choice","No Warning"],categories:["functional","statistics","marketing","do_not_track","no_choice","no_warning"],datasets:[{data:["0","0","0","0","0","0"],backgroundColor:"rgba(46, 138, 55, 1)",borderColor:"rgba(46, 138, 55, 1)",label:"A (default)",fill:"false",borderDash:[0,0]},{data:["0","0","0","0","0","0"],backgroundColor:"rgba(244, 191, 62, 1)",borderColor:"rgba(244, 191, 62, 1)",label:"B",fill:"false",borderDash:[0,0]}],max:5}},n={optin:{labels:["Functional","Statistics","Marketing","Do Not Track","No Choice","No Warning"],categories:["functional","statistics","marketing","do_not_track","no_choice","no_warning"],datasets:[{data:["29","747","174","292","30","10"],backgroundColor:"rgba(46, 138, 55, 1)",borderColor:"rgba(46, 138, 55, 1)",label:"Demo A (default)",fill:"false",borderDash:[0,0]},{data:["3","536","240","389","45","32"],backgroundColor:"rgba(244, 191, 62, 1)",borderColor:"rgba(244, 191, 62, 1)",label:"Demo B",fill:"false",borderDash:[0,0]}],max:5},optout:{labels:["Functional","Statistics","Marketing","Do Not Track","No Choice","No Warning"],categories:["functional","statistics","marketing","do_not_track","no_choice","no_warning"],datasets:[{data:["29","747","174","292","30","10"],backgroundColor:"rgba(46, 138, 55, 1)",borderColor:"rgba(46, 138, 55, 1)",label:"A (default)",fill:"false",borderDash:[0,0]},{data:["3","536","240","389","45","32"],backgroundColor:"rgba(244, 191, 62, 1)",borderColor:"rgba(244, 191, 62, 1)",label:"Demo B",fill:"false",borderDash:[0,0]}],max:5}},o=(0,l.Ue)(((e,t)=>({consentType:"optin",setConsentType:t=>{e({consentType:t})},statisticsLoading:!1,consentTypes:[],regions:[],defaultConsentType:"optin",loaded:!1,statisticsData:complianz.is_premium?n:r,emptyStatisticsData:r,bestPerformerEnabled:!1,daysLeft:"",abTrackingCompleted:!1,labels:[],setLabels:t=>{e({labels:t})},fetchStatisticsData:async()=>{if(e({saving:!0}),t().loaded)return;const{daysLeft:a,abTrackingCompleted:l,consentTypes:r,statisticsData:n,defaultConsentType:o,regions:i,bestPerformerEnabled:c}=await s.doAction("get_statistics_data",{}).then((e=>e)).catch((e=>{console.error(e)}));e({saving:!1,loaded:!0,consentType:o,consentTypes:r,statisticsData:n,defaultConsentType:o,bestPerformerEnabled:c,regions:i,daysLeft:a,abTrackingCompleted:l})}})));t.default=o}}]);