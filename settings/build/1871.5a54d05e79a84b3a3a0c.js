"use strict";(self.webpackChunkcomplianz_gdpr=self.webpackChunkcomplianz_gdpr||[]).push([[1871,1789],{71789:function(e,t,l){l.r(t);var i=l(30270),s=l(48399);const n=(0,i.Ue)(((e,t)=>({licenseStatus:cmplz_settings.licenseStatus,processing:!1,licenseNotices:[],noticesLoaded:!1,getLicenseNotices:async()=>{const{licenseStatus:t,notices:l}=await s.doAction("license_notices",{}).then((e=>e));e((e=>({noticesLoaded:!0,licenseNotices:l,licenseStatus:t})))},activateLicense:async t=>{let l={};l.license=t,e({processing:!0});const{licenseStatus:i,notices:n}=await s.doAction("activate_license",l);e((e=>({processing:!1,licenseNotices:n,licenseStatus:i})))},deactivateLicense:async()=>{e({processing:!0});const{licenseStatus:t,notices:l}=await s.doAction("deactivate_license");e((e=>({processing:!1,licenseNotices:l,licenseStatus:t})))}})));t.default=n},1871:function(e,t,l){l.r(t);var i=l(69307),s=l(99950),n=l(65736),c=l(82485),a=l(71789),m=l(56293),r=l(5830),o=l(38892);t.default=e=>{const{highLightField:t,getFieldValue:d}=(0,m.default)(),{licenseStatus:p}=(0,a.default)(),{bannerDataLoaded:u}=(0,r.default)();let g="https://complianz.io/pricing/";const{subMenu:_,getMenuRegions:f,selectedSubMenuItem:z}=(0,c.default)();let h=f(),v=d("regions");Array.isArray(v)||(v=[v]),h=h.filter((e=>v.includes(e)));const[k,E]=(0,i.useState)(null);(0,i.useEffect)((()=>{Promise.resolve().then(l.bind(l,93019)).then((e=>{let{default:t}=e;E((()=>t))}))}),[]);let N,b=[];for(const t of e.fields)t.group_id===e.group&&b.push(t);for(const e of _.menu_items)if(e.id===z?N=e:e.menu_items&&(N=e.menu_items.filter((e=>e.id===z))[0]),N)break;for(const t of _.menu_items)if(t.id===z&&t.hasOwnProperty("groups")){let l=t.groups.filter((t=>t.id===e.group));l.length>0&&(N=l[0])}if(!N)return null;let y=N.premium_text?N.premium_text:(0,n.__)("Learn more about %sPremium%s","complianz-gdpr");cmplz_settings.is_premium&&(y="empty"===p||"deactivated"===p?cmplz_settings.messageInactive:cmplz_settings.messageInvalid);let L="valid"!==p&&N.premium;L=cmplz_settings.is_premium&&"valid"!==p&&"license"!==N.id,g=N.upgrade?N.upgrade:g;let S=N.helpLink_text?N.helpLink_text:(0,n.__)("Instructions","complianz-gdpr"),w=L?"cmplz-disabled":"";return b.filter((e=>e.conditionallyDisabled&&!0===e.conditionallyDisabled||e.visible&&!1===e.visible)).length===b.length?null:(0,i.createElement)("div",{className:"cmplz-grid-item cmplz-"+N.id+" "+w,key:N.id},N.title&&(0,i.createElement)("div",{className:"cmplz-grid-item-header"},(0,i.createElement)("h3",{className:"cmplz-h4"},N.title),h.length>0&&(0,i.createElement)("div",{className:"cmplz-grid-item-controls"},h.map(((e,t)=>(0,i.createElement)("div",{key:t},(0,i.createElement)("img",{className:"cmplz-settings-region",src:cmplz_settings.plugin_url+"/assets/images/"+e+".svg",alt:"region"}))))),0===h.length&&N.helpLink&&(0,i.createElement)("div",{className:"cmplz-grid-item-controls"},(0,i.createElement)(s.default,{target:"_blank",className:"cmplz-helplink",text:S,url:N.helpLink}))),(0,i.createElement)("div",{className:"cmplz-grid-item-content"},N.intro&&(0,i.createElement)("div",{className:"cmplz-settings-block-intro",dangerouslySetInnerHTML:{__html:N.intro}}),k&&b.map(((e,l)=>(0,i.createElement)(o.default,{key:"field-"+e.id,fallback:"Could not load field "+e.id},(0,i.createElement)(k,{key:e.id,field:e,highLightField:t}))))),L&&(0,i.createElement)("div",{className:"cmplz-locked"},(0,i.createElement)("div",{className:"cmplz-locked-overlay"},(0,i.createElement)("span",{className:"cmplz-task-status cmplz-premium"},(0,n.__)("Upgrade","complianz-gdpr")),(0,i.createElement)("span",null,cmplz_settings.is_premium&&(0,i.createElement)("span",null,y,"Â ",(0,i.createElement)("a",{className:"cmplz-locked-link",href:"#settings/license"},(0,n.__)("Check license","complianz-gdpr"))),!cmplz_settings.is_premium&&(0,i.createElement)(s.default,{target:"_blank",text:y,url:g})))),"banner"===_.id&&!u&&(0,i.createElement)("div",{className:"cmplz-locked"},(0,i.createElement)("div",{className:"cmplz-locked-overlay"})))}}}]);